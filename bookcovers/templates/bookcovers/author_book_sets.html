{% extends "bookcovers/base.html" %}

{% load static %}


{% block menu_pagers %}
{% include 'bookcovers/author_pager.html' %}
{% endblock %}
{% block content %}
    <h2 style="display:inline";>{{ author }}</h2>
    {% for cover in cover_list %}
        {# using ValuesQuerySet, 1 query in 0.49MS #}
        {% ifchanged cover.artwork__artist__name %}
            <BR><h3 style="display:inline";>{{ cover.artwork__artist__name }}</h3><BR>
        {% endifchanged %}
        <a href="{% url 'bookcovers:book_covers' cover.book__pk %}">
            <IMG src="{% static cover.artwork__artist__cover_filepath|add:'Thumbnails/'|add:cover.cover_filename %}"
                 alt="{{ cover.book__title }}"
                 title="{{ cover.book__title }}">
        </a>

        {% comment using object list with select_related, 19 queries in 2.4MS %}
        {% ifchanged cover.artwork.artist.name %}
            <BR>Displaying set {{ cover.artwork.artist.name }}
        {% endifchanged %}
        <a href="{% url 'bookcovers:book_covers' cover.book.pk %}">
            <IMG src="{% static cover.artwork.artist.cover_filepath|add:'Thumbnails/'|add:cover.cover_filename %}"
                 alt="{{ cover.book.title }}"
                 title="{{ cover.book.title }}">
        </a>
        {% endcomment %}

    {% endfor %}
{% endblock %}